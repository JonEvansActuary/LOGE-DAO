import { Middleware } from "@reduxjs/toolkit";
import { IdentitiesState } from "./types";
/**
 * Configuration for the sync middleware
 */
export interface SyncMiddlewareConfig<State = unknown> {
    /**
     * Selector to get identities state from the global state
     */
    getIdentitiesState: (state: State) => IdentitiesState;
    /**
     * Function to get user ID (equipment_id) asynchronously
     * This is managed by apps, not by the identities store
     */
    getUserId: (state: State) => Promise<string>;
    /**
     * Selector to get analytics consent from the global state
     * This avoids duplicating analytics consent in the identities state
     */
    getAnalyticsConsent: (state: State) => boolean;
}
/**
 * Creates a Redux middleware that automatically syncs device IDs to the backend
 * whenever the identities state changes.
 *
 * @param config - Configuration for the sync middleware
 * @returns Redux middleware
 */
export declare function createIdentitiesSyncMiddleware<State>(config: SyncMiddlewareConfig<State>): Middleware;
//# sourceMappingURL=middleware.d.ts.map